
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETHMumbai Maxi Checker</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-dark: #0f0f13;
            --neon-purple: #b942ff;
            --neon-blue: #00f3ff;
            --neon-green: #00ff9d;
            --comic-yellow: #ffea00;
            --text-white: #ffffff;
            --border-width: 3px;
            --card-radius: 20px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(var(--neon-purple) 1px, transparent 1px),
                radial-gradient(var(--neon-blue) 1px, transparent 1px);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-white);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* --- FLOATING COMIC ELEMENTS --- */
        .decoration {
            position: absolute;
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
            animation: float 6s ease-in-out infinite;
        }
        .dec-1 { top: 10%; left: 5%; font-size: 4rem; color: var(--neon-blue); }
        .dec-2 { bottom: 15%; right: 10%; font-size: 6rem; color: var(--neon-purple); animation-delay: 1s; }
        .dec-3 { top: 20%; right: 20%; font-size: 3rem; color: var(--comic-yellow); animation-delay: 2s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }

        /* --- MAIN CONTAINER --- */
        .app-container {
            width: 100%;
            max-width: 480px;
            min-height: 600px;
            position: relative;
            z-index: 10;
            padding: 20px;
            perspective: 1000px;
        }

        /* --- SCREENS TRANSITIONS --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            opacity: 0;
            pointer-events: none;
            transform: scale(0.9) translateY(20px);
        }

        .screen.active {
            opacity: 1;
            pointer-events: all;
            transform: scale(1) translateY(0);
        }

        /* --- LANDING SCREEN --- */
        h1 {
            font-family: 'Bangers', cursive;
            font-size: 3.5rem;
            text-align: center;
            line-height: 1;
            text-shadow: 4px 4px 0px var(--neon-purple);
            transform: rotate(-3deg);
            margin-bottom: 10px;
        }

        .subtext {
            color: #aaa;
            margin-bottom: 40px;
            font-size: 1.1rem;
            text-align: center;
        }

        .input-group {
            position: relative;
            width: 100%;
            margin-bottom: 20px;
        }

        .at-symbol {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--neon-green);
            font-weight: bold;
            font-size: 1.2rem;
        }

        input {
            width: 100%;
            padding: 18px 20px 18px 45px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--neon-purple);
            border-radius: 12px;
            color: white;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            outline: none;
            transition: 0.3s;
            box-shadow: 0 0 10px rgba(185, 66, 255, 0.1);
        }

        input:focus {
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
            transform: scale(1.02);
        }

        .btn-main {
            width: 100%;
            padding: 18px;
            background: var(--comic-yellow);
            color: black;
            font-family: 'Bangers', cursive;
            font-size: 1.8rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            box-shadow: 5px 5px 0px #000;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-main:active {
            transform: translate(2px, 2px);
            box-shadow: 3px 3px 0px #000;
        }

        .btn-main:hover {
            background: white;
        }

        /* --- LOADING SCREEN --- */
        .loading-loader {
            width: 80px;
            height: 80px;
            border: 8px solid rgba(255,255,255,0.1);
            border-top: 8px solid var(--neon-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .loading-text {
            font-family: 'Space Grotesk', monospace;
            color: var(--neon-blue);
            font-size: 1.2rem;
            text-align: center;
        }

        .console-log {
            font-size: 0.8rem;
            color: #666;
            margin-top: 10px;
            font-family: monospace;
            height: 20px;
        }

        /* --- RESULT SCREEN (THE CARD) --- */
        .card-wrapper {
            perspective: 1000px;
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .maxi-card {
            width: 100%;
            background: rgba(20, 20, 25, 0.9);
            border: 2px solid var(--neon-purple);
            border-radius: var(--card-radius);
            padding: 25px;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 30px rgba(185, 66, 255, 0.2),
                10px 10px 0px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            animation: revealCard 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Holographic Overlay */
        .maxi-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 45%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 55%
            );
            animation: shine 4s infinite linear;
            pointer-events: none;
        }

        @keyframes shine { 0% { transform: translateY(-50%) translateX(-50%); } 100% { transform: translateY(50%) translateX(50%); } }
        @keyframes revealCard { 0% { opacity: 0; transform: rotateY(90deg); } 100% { opacity: 1; transform: rotateY(0deg); } }

        .card-header {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
            border-bottom: 1px dashed rgba(255,255,255,0.2);
            padding-bottom: 10px;
        }

        .eth-logo {
            font-weight: 700;
            color: var(--neon-blue);
            letter-spacing: 1px;
        }

        .card-badge {
            background: var(--neon-green);
            color: black;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        .user-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid var(--comic-yellow);
            margin-bottom: 15px;
            object-fit: cover;
            background: #333;
        }

        .user-handle {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 5px;
        }

        .persona-title {
            font-family: 'Bangers', cursive;
            font-size: 2.8rem;
            color: white;
            line-height: 1;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px var(--neon-purple);
            transform: rotate(-2deg);
        }

        .persona-desc {
            font-size: 0.95rem;
            line-height: 1.4;
            color: #ddd;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 8px;
        }

        .stats-row {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: auto;
        }

        .stat {
            display: flex;
            flex-direction: column;
        }
        .stat-label { font-size: 0.6rem; color: var(--neon-blue); text-transform: uppercase; }
        .stat-val { font-weight: bold; font-size: 1.1rem; }

        .btn-share {
            background: white;
            color: black;
            font-family: 'Space Grotesk', bold;
            font-weight: 700;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: 0.2s;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }
        
        .btn-share:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(255,255,255,0.5); }
        .btn-reset { margin-top: 15px; background: transparent; border: none; color: #666; cursor: pointer; text-decoration: underline; }

        /* Mobile Adjustments */
        @media (max-width: 400px) {
            h1 { font-size: 2.8rem; }
            .persona-title { font-size: 2.2rem; }
        }
    </style>
</head>
<body>

    <div class="decoration dec-1">âš¡</div>
    <div class="decoration dec-2">âœ¦</div>
    <div class="decoration dec-3">ðŸš€</div>

    <div class="app-container">
        
        <section id="landing-screen" class="screen active">
            <h1>ETHMumbai<br><span style="color:var(--neon-blue)">Vibe Check</span></h1>
            <p class="subtext">Reveal your on-chain energy. <br>Are you a builder or a narrative spinner?</p>
            
            <div class="input-group">
                <span class="at-symbol">@</span>
                <input type="text" id="username-input" placeholder="Enter X handle" autocomplete="off">
            </div>

            <button class="btn-main" onclick="startScan()">Check My Vibe ðŸ”¥</button>
        </section>

        <section id="loading-screen" class="screen">
            <div class="loading-loader"></div>
            <h2 class="loading-text" id="loading-msg">Connecting to Mainnet...</h2>
            <div class="console-log" id="console-msg"></div>
        </section>

        <section id="result-screen" class="screen">
            <div class="card-wrapper">
                <div class="maxi-card">
                    <div class="card-header">
                        <span class="eth-logo">ETHMumbai</span>
                        <span class="card-badge">Verified Vibe</span>
                    </div>
                    
                    <img src="" alt="Avatar" class="user-avatar" id="result-avatar">
                    
                    <div class="user-handle" id="result-handle">@username</div>
                    <div class="persona-title" id="result-title">INFRA BRAIN</div>
                    
                    <div class="persona-desc" id="result-desc">
                        "You talk about rollups at parties. People are scared but impressed."
                    </div>

                    <div class="stats-row">
                        <div class="stat">
                            <span class="stat-label">WAGMI</span>
                            <span class="stat-val" id="stat-wagmi">99%</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Based</span>
                            <span class="stat-val" id="stat-based">High</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Rarity</span>
                            <span class="stat-val" id="stat-rarity">SSR</span>
                        </div>
                    </div>
                </div>
            </div>

            <button class="btn-share" onclick="shareOnX()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="black"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                Flex on X
            </button>
            <button class="btn-reset" onclick="resetApp()">Check another handle</button>
        </section>

    </div>

    <script>
        // --- DATA & LOGIC ---

        const PERSONAS = [
            {
                title: "INFRA BRAIN",
                desc: "You talk about modularity at parties. People are confused but deeply impressed.",
                wagmi: "100%", based: "Max", rarity: "Legendary"
            },
            {
                title: "BUILDER CORE",
                desc: "Sleep is for the weak. You have 5 hackathon submissions pending. Git commit or die.",
                wagmi: "95%", based: "High", rarity: "Epic"
            },
            {
                title: "NARRATIVE SURFER",
                desc: "You bought the coin before the whitepaper was written. Pure intuitive chaos.",
                wagmi: "50%", based: "Volatile", rarity: "Rare"
            },
            {
                title: "COMMUNITY PLUG",
                desc: "You know everyone. Literally everyone. You are the glue of the ecosystem.",
                wagmi: "110%", based: "Social", rarity: "Uncommon"
            },
            {
                title: "ECOSYSTEM ENJOYER",
                desc: "Just here for the vibes, the POAPs, and the free pizza. Vitalik follows you (in your dreams).",
                wagmi: "80%", based: "Chill", rarity: "Common"
            },
            {
                title: "LOCKED-IN LURKER",
                desc: "0 Tweets. 5000 Bookmarks. You know more than the founders.",
                wagmi: "Unknown", based: "Dark Mode", rarity: "Mystic"
            }
        ];

        const LOADING_MSGS = [
            "Reading tweet aura...",
            "Analyzing meme compatibility...",
            "Checking wallet history...",
            "Syncing Mumbai node...",
            "Calculating WAGMI score..."
        ];

        let currentHandle = "";
        let currentPersona = {};

        // --- DOM ELEMENTS ---
        const landingScreen = document.getElementById('landing-screen');
        const loadingScreen = document.getElementById('loading-screen');
        const resultScreen = document.getElementById('result-screen');
        const usernameInput = document.getElementById('username-input');
        
        // --- FUNCTIONS ---

        function startScan() {
            const handle = usernameInput.value.trim().replace('@', '');
            
            if (!handle) {
                usernameInput.style.borderColor = 'red';
                setTimeout(() => usernameInput.style.borderColor = 'var(--neon-purple)', 500);
                return;
            }

            currentHandle = handle;
            
            // Switch to loading
            switchScreen(landingScreen, loadingScreen);
            
            // Run fake loading sequence
            let msgIndex = 0;
            const msgElement = document.getElementById('loading-msg');
            const consoleElement = document.getElementById('console-msg');

            const interval = setInterval(() => {
                msgElement.innerText = LOADING_MSGS[msgIndex];
                consoleElement.innerText = `> accessing_block_${Math.floor(Math.random() * 9999)}`;
                msgIndex++;
                
                if (msgIndex >= LOADING_MSGS.length) {
                    clearInterval(interval);
                    showResult(handle);
                }
            }, 800);
        }

        function showResult(handle) {
            // 1. Deterministic Logic (Same handle = Same result)
            // We sum the char codes of the handle to get a seed
            let seed = 0;
            for (let i = 0; i < handle.length; i++) {
                seed += handle.charCodeAt(i);
            }
            
            // Select persona based on seed
            const personaIndex = seed % PERSONAS.length;
            currentPersona = PERSONAS[personaIndex];

            // 2. Hydrate the UI
            document.getElementById('result-handle').innerText = '@' + handle;
            document.getElementById('result-title').innerText = currentPersona.title;
            document.getElementById('result-desc').innerText = currentPersona.desc;
            
            // Stats
            document.getElementById('stat-wagmi').innerText = currentPersona.wagmi;
            document.getElementById('stat-based').innerText = currentPersona.based;
            document.getElementById('stat-rarity').innerText = currentPersona.rarity;

            // Generate Avatar (Using UI Avatars service as fallback for pure frontend)
            // In a real app, you'd fetch the Twitter PFP via backend proxy
            const avatarColor = seed % 2 === 0 ? '00ff9d' : 'b942ff'; // neon green or purple
            document.getElementById('result-avatar').src = `https://ui-avatars.com/api/?name=${handle}&background=${avatarColor}&color=000&size=200&bold=true`;

            // Color Coding based on Rarity
            const cardElement = document.querySelector('.maxi-card');
            if(currentPersona.rarity === 'Legendary') {
                cardElement.style.borderColor = 'var(--comic-yellow)';
                document.getElementById('result-title').style.color = 'var(--comic-yellow)';
            } else {
                cardElement.style.borderColor = 'var(--neon-purple)';
                document.getElementById('result-title').style.color = 'white';
            }

            switchScreen(loadingScreen, resultScreen);
        }

        function shareOnX() {
            const text = `Just checked my %23ETHMumbai vibe ðŸ”¥%0A%0ATurns out Iâ€™m a ${currentPersona.title}%0A%0A"${currentPersona.desc}"%0A%0ACheck your energy ðŸ‘‡`;
            const url = "https://ethmumbai-checker.vercel.app"; // Replace with actual URL after deploy
            const twitterUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
            window.open(twitterUrl, '_blank');
        }

        function resetApp() {
            usernameInput.value = '';
            switchScreen(resultScreen, landingScreen);
        }

        function switchScreen(from, to) {
            from.classList.remove('active');
            setTimeout(() => {
                to.classList.add('active');
        
